<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - TalwindDaisyUIThemeChange</title>
    <script type="importmap"></script>
<link rel="stylesheet" href="~/css/site.min.css" asp-append-version="true"/>
    <link rel="stylesheet" href="~/TalwindDaisyUIThemeChange.styles.css" asp-append-version="true" />
</head>
<body data-theme="caramellatte">


    <p class="mt-12">   <button class="btn btn-primary" id="theme-toggle">Change Theme</button></p>

    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

   

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

    @await RenderSectionAsync("Scripts", required: false)

  
    <script>
            window.onload = function () {

            const body = document.body;
            const themeToggleBtn = document.getElementById("theme-toggle");
            const themes = ["caramellatte", "cyberpunk"];

            //LocalStorage'dan mevcut temayı al
            let currentTheme = localStorage.getItem("theme") || "lofi";
            body.setAttribute("data-theme", currentTheme);

            themeToggleBtn.addEventListener("click", function () {
               let nextTheme = themes[(themes.indexOf(body.getAttribute("data-theme")) + 1) % themes.length];

               // Yeni temayı uygula
               body.setAttribute("data-theme", nextTheme);

               // LocalStorage'a kaydet
               localStorage.setItem("theme", nextTheme);
            });
        };
    </script>

</body>
</html>
